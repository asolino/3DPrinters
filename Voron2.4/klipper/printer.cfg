# Voron Design VORON2 250mm SKR 1.3 TMC2209 UART config

# *** THINGS TO CHANGE/CHECK: ***
# MCU paths                         	[mcu] section
# Thermistor types                      [extruder] and [heater_bed] sections - See 'sensor types' list at end of file
# Z Endstop Switch location       	[homing_override] section
# Z Endstop Switch  offset for Z0  	[stepper_z] section
# Probe points                          [quad_gantry_level] section
# Min & Max gantry corner postions      [quad_gantry_level] section
# PID tune                              [extruder] and [heater_bed] sections
# Fine tune E steps                     [extruder] section

# ========================== Pin Definitions ========================
# X_STEP_PIN         2.2
# X_DIR_PIN          2.6
# X_ENABLE_PIN       2.1
# X_MIN_PIN          1.29
# X_MAX_PIN          1.28
# X_UART_RX          1.17
# X_UART_TX          4.29

# Y_STEP_PIN         0.19
# Y_DIR_PIN          0.20
# Y_ENABLE_PIN       2.8
# Y_MIN_PIN          1.27
# Y_MAX_PIN          1.26
# Y_UART_RX          1.15
# Y_UART_TX          1.16

# Z_STEP_PIN         0.22
# Z_DIR_PIN          2.11
# Z_ENABLE_PIN       0.21
# Z_MIN_PIN          1.25
# Z_MAX_PIN          1.24
# Z_UART_RX          1.10
# Z_UART_TX          1.14

# E0_STEP_PIN        2.13
# E0_DIR_PIN         0.11
# E0_ENABLE_PIN      2.12
# E0_UART_RX         1.8
# E0_UART_TX         1.9

# E1_STEP_PIN        0.1
# E1_DIR_PIN         0.0
# E1_ENABLE_PIN      0.10
# E1_UART_RX         1.1
# E1_UART_TX         1.4

# HE1                2.4    
# HE0                2.7
# BED                2.5
# TH1 (H1 Temp)      0.25
# TH0 (H0 Temp)      0.24
# TB  (Bed Temp)     0.23
# FAN                2.3
# SERVO              2.0
# ===================================================================

[mcu]
#	mcu for X/Y/E steppers main MCU
#	[X in X] - B Motor
#	[Y in Y] - A Motor
#	[E in E0] - Extruder
#	obtain definition by "ls -l /dev/serial/by-path/" then unplug to verify
#--------------------------------------------------------------------
serial: /dev/serial/by-path/platform-fd500000.pcie-pci-0000:01:00.0-usb-0:1.4:1.0
#--------------------------------------------------------------------

[mcu z]
#	mcu for Z steppers
#	[Z in X] - Front Left
#	[Z1 in Y] - Rear Left
#	[Z2 in Z] - Rear Right
#	[Z3 in E0]- Front Right
#	obtain definition by "ls -l /dev/serial/by-path/" then unplug to verify
serial: /dev/serial/by-path/platform-fd500000.pcie-pci-0000:01:00.0-usb-0:1.2:1.0

[mcu rpi]
serial: /tmp/klipper_host_mcu

[adxl345]
cs_pin: rpi:None

[resonance_tester]
accel_chip: adxl345
probe_points:
    100,100,20  # an example

[include vibration_macro.cfg] 
[include lcd_tweaks.cfg] 

[input_shaper]
shaper_freq_x: 71.6
shaper_type_x: 3hump_ei
shaper_freq_y: 70.2
shaper_type_y: 3hump_ei

#shaper_freq_x: 59.8
#shaper_type_x: mzv
#shaper_freq_y: 50.6
#shaper_type_y: mzv

#[input_shaper]
#shaper_freq_x: 58
#shaper_freq_y: 41
#shaper_type: mzv

[printer]
#max_accel: 7000
#max_accel_to_decel: 7000
max_accel: 4000
max_accel_to_decel: 4000
kinematics: corexy
max_velocity: 350
max_z_velocity: 30 #Max 50
max_z_accel: 300   #Max 800
square_corner_velocity: 5.0  #Can experiment with 8.0, default 5.0

#####################################################################
# 	Optional Settings
#####################################################################
# Pause/Resume Functionality
[pause_resume]
recover_velocity: 100

# This adds the 'respond' G-Code that you can use to send commands back to OctoPrint
[respond]
default_type: echo

[force_move]
enable_force_move: true


#####################################################################
# 	X/Y Stepper Settings
#####################################################################
[stepper_x]
#connected to X on mcu_xye (B Motor)
step_pin: P2.2
dir_pin: P2.6
enable_pin: !P2.1
step_distance: 0.0125
endstop_pin: P1.28
position_min: 0
position_endstop: 248
position_max: 248
homing_speed: 100
second_homing_speed: 25
homing_retract_dist: 5
homing_positive_dir: true

#Make sure to update below for your relevant driver (2208 or 2209)
[tmc2209 stepper_x]
uart_pin: P1.17
microsteps: 8
interpolate: True
run_current: 0.7
hold_current: 0.4
sense_resistor: 0.110
stealthchop_threshold: 0

[stepper_y]
#connected to Y on mcu_xye (A Motor)
step_pin: P0.19
dir_pin: P0.20
enable_pin: !P2.8
step_distance: 0.0125
endstop_pin: P1.26
position_min: 0
position_endstop: 251
position_max: 251
homing_speed: 100
second_homing_speed: 25
homing_retract_dist: 5
homing_positive_dir: true

#Make sure to update below for your relevant driver (2208 or 2209)
[tmc2209 stepper_y]
uart_pin: P1.15
microsteps: 8
interpolate: True
run_current: 0.7
hold_current: 0.4
sense_resistor: 0.110
stealthchop_threshold: 0
 
#####################################################################
# 	Z Stepper Settings
#####################################################################
#Z MCU - In X Position
# Z0 Stepper - Front Left
[stepper_z]
step_pin: z:P2.2
dir_pin: !z:P2.6
enable_pin: !z:P2.1
step_distance: 0.005
endstop_pin: z:P1.25
#   Z-position of nozzle (in mm) to z-endstop trigger point relative to print surface (Z0)
#   (+) value = endstop above Z0, (-) value = endstop below
#	Increasing position_endstop brings nozzle closer to the bed
#   After you run Z_ENDSTOP_CALIBRATE, position_endstop will be stored at the very end of your config
#position_endstop: 0
position_max: 200
position_min: -10
homing_speed: 15.0
second_homing_speed: 3.0
homing_retract_dist: 3.0
homing_positive_dir: false

#Make sure to update below for your relevant driver (2208 or 2209)
[tmc2209 stepper_z]
uart_pin: z:P1.17
microsteps: 8
interpolate: True
run_current: 1.0
hold_current: 1.0
sense_resistor: 0.110
stealthchop_threshold: 0

#Z MCU - In Y Position
# Z1 Stepper - Rear Left
[stepper_z1]
step_pin: z:P0.19
dir_pin: z:P0.20
enable_pin: !z:P2.8
step_distance: 0.005

#Make sure to update below for your relevant driver (2208 or 2209)
[tmc2209 stepper_z1]
uart_pin: z:P1.15
microsteps: 8
interpolate: True
run_current: 1.0
hold_current: 1.0
sense_resistor: 0.110
stealthchop_threshold: 0

#Z MCU - In Z Position
# Z2 Stepper - Rear Right
[stepper_z2]
step_pin: z:P0.22
dir_pin: !z:P2.11
enable_pin: !z:P0.21
step_distance: 0.005

#Make sure to update below for your relevant driver (2208 or 2209)
[tmc2209 stepper_z2]
uart_pin: z:P1.10
microsteps: 8
interpolate: True
run_current: 1.0
hold_current: 1.0
sense_resistor: 0.110
stealthchop_threshold: 0

#Z MCU - In E0 Position
# Z3 Stepper - Front Right
[stepper_z3]
step_pin: z:P2.13
dir_pin: z:P0.11
enable_pin: !z:P2.12
step_distance: 0.005

#Make sure to update below for your relevant driver (2208 or 2209)
[tmc2209 stepper_z3]
uart_pin: z:P1.8
microsteps: 8
interpolate: True
run_current: 1.0
hold_current: 1.0
sense_resistor: 0.110
stealthchop_threshold: 500


#####################################################################
# 	Extruders
#####################################################################
#E0 on MCU X/Y, E0 plug, Direct Drive
[extruder]
step_pin: P2.13
dir_pin: !P0.11
enable_pin: !P2.12
# Update value below when you perform extruder calibration
# Higher value means less filament extruded
# If you ask for 100mm of filament, but in reality it is 98mm:
# step_distance = 98 / 100 * step_distance_old
step_distance: 0.0024
nozzle_diameter: 0.400
filament_diameter: 1.75
heater_pin: P2.7
max_extrude_cross_section: 1200.0
#Validate the following thermistor type to make sure it is correct
#sensor_type: NTC 100K beta 3950
sensor_type: ATC Semitec 104GT-2
sensor_pin: P0.24
smooth_time: 3.0
min_temp: -100
#min_temp: 10
max_temp: 270
max_power: 1.0
#min_extrude_temp: 170
min_extrude_temp: -100
max_extrude_only_distance: 120.00
#control = pid
#pid_kp = 26.213
#pid_ki = 1.304
#pid_kd = 131.721
# PA can be disabled by declaring a 0.0 value
pressure_advance: 0.055
#pressure_advance: 0.08
#pressure_advance: 0
# Time seconds to look ahead for PA moves default is 0.010 or 10ms
#pressure_advance_lookahead_time: 0.010

#E0 on MCU X/Y, E0 plug, Direct Drive
#Make sure to update below for your relevant driver (2208 or 2209)
[tmc2209 extruder]
uart_pin: P1.9
microsteps: 16
interpolate: false
run_current: 0.5
hold_current: 0.5
sense_resistor: 0.110
stealthchop_threshold: 0

# Script to change back to the main extruder
[gcode_macro T0]
gcode:
    ACTIVATE_EXTRUDER EXTRUDER=extruder

#E1 on MCU X/Y, E1 plug, Mobius
[extruder1]
step_pin: P0.1
dir_pin: P0.0
enable_pin: !P0.10
# 16 microsteps Mobius 3 ~= 0.00180
# Update value below when you perform extruder calibration
# Higher value means less filament extruded
# If you ask for 100mm of filament, but in reality it is 98mm:
# step_distance = 98 / 100 * step_distance_old
step_distance: 0.0018415885
nozzle_diameter: 0.400
filament_diameter: 1.75
max_extrude_cross_section: 1200.0
max_extrude_only_distance: 120.00
shared_heater: extruder
#Validate the following thermistor type to make sure it is correct
# PA can be disabled by declaring a 0.0 value
#pressure_advance: 0.08
#pressure_advance: 1.052000
#pressure_advance_smooth_time = 0.060
# Time seconds to look ahead for PA moves default is 0.010 or 10ms
#pressure_advance_lookahead_time: 0.060

#E1 on MCU X/Y, E1 plug, Mobius
#Make sure to update below for your relevant driver (2208 or 2209)
[tmc2209 extruder1]
uart_pin: P1.4
microsteps: 16
interpolate: false
run_current: 1.0
hold_current: 1.0
sense_resistor: 0.110
stealthchop_threshold: 0

# Script to change back to the main extruder
[gcode_macro T1]
gcode:
    ACTIVATE_EXTRUDER EXTRUDER=extruder1

#E2 on MCU X/Y, Z0 plug, Mobius
[extruder2]
step_pin: P0.22
dir_pin: !P2.11
enable_pin: !P0.21
# 16 microsteps Mobius 3 ~= 0.00180
# Update value below when you perform extruder calibration
# Higher value means less filament extruded
# If you ask for 100mm of filament, but in reality it is 98mm:
# step_distance = 98 / 100 * step_distance_old
step_distance: 0.0017966215575
nozzle_diameter: 0.400
filament_diameter: 1.75
max_extrude_cross_section: 1200.0
max_extrude_only_distance: 120.00
shared_heater: extruder
#Validate the following thermistor type to make sure it is correct
# PA can be disabled by declaring a 0.0 value
#pressure_advance: 1.052000
#pressure_advance_smooth_time = 0.060
# Time seconds to look ahead for PA moves default is 0.010 or 10ms
#pressure_advance_lookahead_time: 0.010

#E2 on MCU X/Y, Z0 plug, Mobius
#Make sure to update below for your relevant driver (2208 or 2209)
[tmc2209 extruder2]
uart_pin: P1.14
microsteps: 16
interpolate: false
run_current: 1.0
hold_current: 1.0
sense_resistor: 0.110
stealthchop_threshold: 0

[gcode_macro T2]
gcode:
    ACTIVATE_EXTRUDER EXTRUDER=extruder2


#####################################################################
# 	Probe
#####################################################################
[probe]
# Inductive Probe
# This probe is not used for Z height, only Quad Gantry Leveling
#   Z_MAX on mcu_z
#   If your probe is NO instead of NC, add change pin to !z:P1.24
pin: z:P1.24
x_offset: 0
y_offset: 25.0
z_offset: 0
speed: 20.0
samples: 2
samples_result: median
sample_retract_dist: 1.0
samples_tolerance: 0.001
samples_tolerance_retries: 3


#####################################################################
# 	Fan Control
#####################################################################
[heater_fan hotend_fan]
# Hotend Fan - XYE board, HE1 Connector
pin: P2.4
max_power: 1.0
kick_start_time: 0.5
heater: extruder
heater_temp: 50.0
#If you are experiencing back flow, you can reduce fan_speed
#fan_speed: 1.0

[fan]
# Print Cooling Fan - XYE board, Fan Pin
pin: P2.3
kick_start_time: 0.5
#depending on your fan, you may need to increase or reduce this value
#if your fan will not start
off_below: 0.13
cycle_time: 0.001

[output_pin exhaust_fan]
pin: z:P2.7
pwm: True
value: 0

#[heater_fan exhaust_fan]
# Exhaust fan - Z board, HE0 Connector
#pin: z:P2.7
#max_power: 1.0
#shutdown_speed: 0.0
#kick_start_time: 5.0
#heater: heater_bed
#heater_temp: 60
#fan_speed: 1.0

[heater_fan controller_fan]
# Controller fan - Z board, HE1 Connector
pin: z:P2.4
kick_start_time: 0.500
heater: heater_bed
heater_temp: 45.0

#####################################################################
# 	Bed Heater
#####################################################################
[heater_bed]
# SSR Pin - Z board, Fan Pin
heater_pin: z:P2.3
sensor_type: NTC 100K MGB18-104F39050L32
sensor_pin: z:P0.23
smooth_time: 3.0
#Adjust Max Power so your heater doesn't warp your bed
max_power: 0.5
min_temp: 0
max_temp: 115
#control: pid
#pid_kp: 58.437
#pid_ki: 2.347
#pid_kd: 363.769

#####################################################################
# 	Chamber Temperature Sensor
#####################################################################
[temperature_sensor chamber]
sensor_type: ATC Semitec 104GT-2
sensor_pin: z:P0.24
min_temp: 0
max_temp: 100
#   See the "extruder" section for the definition of the above
#   parameters.
gcode_id: C
#   See the "heater_generic" section for the definition of this
#   parameter.

#####################################################################
# 	Homing and Gantry Adjustment Routines
#####################################################################
[idle_timeout]
gcode:
   TURN_OFF_HEATERS
   M84                            ; disable steppers
   SET_PIN PIN=exhaust_fan value=0 ; Turn off exhaust
   M117 Timeout
# 20 min
#timeout: 86400
timeout: 1200

[safe_z_home]
home_xy_position: 174,251
speed: 60.0
z_hop: 10.0
z_hop_speed: 10.0

[quad_gantry_level]
#   Use QUAD_GANTRY_LEVEL to level a gantry.
#   Min & Max gantry corners - measure from nozzle at MIN (0,0) and 
#   MAX (250, 250), (300,300), or (350,350) depending on your printer size
#   to respective belt positions

#--------------------------------------------------------------------
# 	Gantry Corners for 250mm Build

#   Use QUAD_GANTRY_LEVEL to level a gantry.
gantry_corners:
   -58,-5
   308,330
#   Min & Max gantry corners - measure from nozzle at MIN (0,0) and MAX (250,250) to respective belt positions
points:
   20,20
   20,200
   220,200
   220,20

#--------------------------------------------------------------------
speed: 350
horizontal_move_z: 5
retries: 3
retry_tolerance: 0.005
max_adjust: 8

#####################################################################
# 	Displays
#####################################################################
[display]
##	mini12864 LCD Display
lcd_type: uc1701
cs_pin: P1.18
a0_pin: P1.19
encoder_pins: ^P3.25,^P3.26
click_pin: ^!P0.28
contrast: 63
display_group: __voron_display

[neopixel fysetc_mini12864]
##	To control Neopixel RGB in mini12864 display
pin: P1.21
chain_count: 3
initial_RED: 0
initial_GREEN: 1
initial_BLUE: 0.0
color_order: RGB

##	Set RGB values on boot up for each Neopixel. 
##	Index 1 = display, Index 2 and 3 = Knob

[delayed_gcode setdisplayneopixel]
initial_duration: 1
gcode:
	SET_LED LED=fysetc_mini12864 RED=0 GREEN=1 BLUE=0.2 INDEX=1
        SET_LED LED=fysetc_mini12864 RED=0 GREEN=1 BLUE=0.2 INDEX=2 
        SET_LED LED=fysetc_mini12864 RED=0 GREEN=1 BLUE=0.2 INDEX=3 TRANSMIT=0

#--------------------------------------------------------------------

######################################################################
# Filament sensors
######################################################################
[filament_switch_sensor RunOut]
pause_on_runout: True
insert_gcode:
 # Restore back the IDLE Timeout, should match what you set in the [idle_timeout] section
 SET_IDLE_TIMEOUT TIMEOUT=1200
 # Clear the LCD warning message, filament is back again
 M117
pause_delay: 0.5
switch_pin: !z:P1.29
runout_gcode:
 M117 Runout Detected!
 M600 X50 Y10 Z10
 
[gcode_macro M600]
default_parameter_X: 50
default_parameter_Y: 10
default_parameter_Z: 10
gcode:
 SAVE_GCODE_STATE NAME=M600_state
 PAUSE
 G91
 G1 E-10 F5000
 G1 Z{Z}
 G90
 G1 X{X} Y{Y} F3000
 RESTORE_GCODE_STATE NAME=M600_state
 # Setting a big idle timeout to avoid printer getting into that state. Will be restored later when the filament is changed
 # 24 hours
 SET_IDLE_TIMEOUT TIMEOUT=86400
 M117 Change Spool! 

#####################################################################
# 	Macros
#####################################################################
[gcode_macro ZUP]
gcode:
    SET_GCODE_OFFSET Z_ADJUST=0.01 MOVE=1

[gcode_macro ZDOWN]
gcode:
    SET_GCODE_OFFSET Z_ADJUST=-0.01 MOVE=1

#[gcode_macro TEST]
#gcode:
#    {% if printer.toolhead.position.z + 20 > printer.stepper_z.position_max %}
#       printer.gcode.action_respond_info("Cannot past beyond %s" % ( printer.toolhead.position.z + 20 ))
#    {% else %}
#       printer.gcode.action_respond_info("All OK can move to %s" % ( printer.toolhead.position.z + 20 ))
#    {% endif %}

[gcode_macro G32]
gcode:
    G28
    QUAD_GANTRY_LEVEL
    G28
    G0 X150 Y150 Z20 F6000

[gcode_macro GANTRY_TEST]
gcode:
   G28
   QUAD_GANTRY_LEVEL
   {% for try in range(0, 5, 1) %}
   M117 Try: {try}
   g0 x124 y124 z100 F28000
   g0 x0 y0 f28000
   g0 x248 y248 f28000
   g0 x0 y248 f28000
   g0 x248 y0 f28000
   g0 x248 y248 f28000
   g0 x0 y0 f28000
   g0 x0 y248 f28000
   g0 x248 y0 f28000
   g0 x124 y124 z100 F28000
   QUAD_GANTRY_LEVEL
   {% endfor %}

   
[gcode_macro PRINT_START]
#   Use PRINT_START for the slicer starting script - please customize for your slicer of choice
default_parameter_BED: 60
default_parameter_EXTRUDER: 200
gcode:
   # Turn off exhaust fan (if it was turned on)
   SET_PIN PIN=exhaust_fan value=0
   {% if printer.extruder.temperature < 190 %}
      # Heat the filament to 190C so it doesn't interfere with Z offset 
      M109 S190
   {% endif %}
   M117 Homing...                 ; display message
   BED_MESH_CLEAR
   G28                            ; home all axes
   M117 Quad Gantry Level...      ; display message
   QUAD_GANTRY_LEVEL
   G28 Z
   G1 Z20 F3000                   ; move nozzle away from bed
   M117 Preheat (Print)           ; display message
   M190 S{BED}                    ; Heated bed control
   M109 S{EXTRUDER}
   M117 Done.                     ; display message

   # Load mesh depending on the Filament being used 
   # Based on Bed Temperature
   #{% if printer.heater_bed.target > 80 %}
   #   # Dealing with ABS here
   #   #BED_MESH_PROFILE LOAD=ABS
   #   BED_MESH_PROFILE LOAD=110
   #   M117 ABS Mesh Loaded
   #{% else %}
   #   BED_MESH_PROFILE LOAD=PLA
   #   M117 PLA Mesh Loaded
   #{% endif %}
   M117 Calibrating Mesh
   BED_MESH_CALIBRATE
   G28 Z
   M117 Quad Gantry Level...
   QUAD_GANTRY_LEVEL
   G28 Z

   # Bent Compensation
   #FORCE_MOVE STEPPER=stepper_z2 DISTANCE=-.08 VELOCITY=10
   #FORCE_MOVE STEPPER=stepper_z3 DISTANCE=-.08 VELOCITY=10

   # Purge Line
   G92 E0 ;Reset Extruder
   G1 Z2.0 F3000 ;Move Z Axis up
   G1 X2.2 Y2 Z0.3 F10000.0 ; Move to start position

   M117 Purge Line                     ; display message

   G1 X2.2 Y200.0 Z0.3 F1500.0 E15 ; Draw the first line
   G1 X2.5 Y200.0 Z0.3 F18000.0 ; Move to side a little
   G1 X2.5 Y2 Z0.3 F1500.0 E30 ; Draw the second line
   G92 E0 ;Reset Extruder
   G1 Z4

   M117 Done!

   SET_PIN PIN=exhaust_fan value=0.3
   M117
   #SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY=1 ACCEL=500
   #TUNING_TOWER COMMAND=SET_PRESSURE_ADVANCE PARAMETER=ADVANCE START=0 FACTOR=.005
   #TUNING_TOWER COMMAND=SET_PRESSURE_ADVANCE PARAMETER=ADVANCE START=0.5 FACTOR=.020

[gcode_macro PRINT_END]
#   Use PRINT_END for the slicer ending script - please customize for your slicer of choice
gcode:
   M400                           ; wait for buffer to clear
   G92 E0                         ; zero the extruder
   G1 E-4.0 F3600                 ; retract filament
   G91                            ; relative positioning
   G0 Z3.00 F20000    ; move nozzle to remove stringing
   TURN_OFF_HEATERS
   M107                           ; turn off fan
   G1 Z5 F3000                    ; move nozzle up 5mm
   G90                            ; absolute positioning
   G0  X125 Y248 F3600            ; park nozzle at rear

   M18                           ; Disable steppers

   SET_PIN PIN=exhaust_fan value=1; Turn exhaust fan, clear fumes
   M117 Filtering fumes
   ## Wait 15 minutes, notify user every minute
   #{% for minutes in range(15, 0, -1) %}
   #M117 Fumes: {minutes} mins left.
   #G4 P60000
   #{% endfor %}
   #SET_PIN PIN=exhaust_fan value=0; Turn exhaust fan, clear fumes
   #M117 Done
    

#[gcode_macro LOAD_FILAMENT]
#gcode:
#   M83                            ; set extruder to relative
#   G1 E750 F1800                  ; quickly load filament to down bowden
#   G1 E30 F300                    ; slower extrusion for hotend path
#   G1 E15 F150                    ; prime nozzle with filament
#   M82                            ; set extruder to absolute
    
#[gcode_macro UNLOAD_FILAMENT]
#gcode:
#   M83                            ; set extruder to relative
#   G1 E10 F300                    ; extrude a little to soften tip
#   G1 E-780 F1800                 ; retract filament completely
#   M82                            ; set extruder to absolute

	
# Sensor Types
#   "EPCOS 100K B57560G104F"
#   "ATC Semitec 104GT-2"
#   "NTC 100K beta 3950"
#   "Honeywell 100K 135-104LAG-J01"
#   "NTC 100K MGB18-104F39050L32" (Keenovo Heater Pad)
#   "AD595"
#   "PT100 INA826"

# Mesh Bed Settings
[bed_mesh]
speed: 200
horizontal_move_z: 5
mesh_min: 15,35
mesh_max: 240,225
probe_count: 7,7
fade_start: 1
#fade_end: 6
split_delta_z: .01
move_check_distance: 3
mesh_pps: 2,2
algorithm: bicubic
bicubic_tension = .2
relative_reference_index: 24 # ^^^because we're measuring the offset from the nozzle switch to the bed using the center of the bed, the equation to find the location = (probe point count)/2-1

# Run-time configurable output pins (one may define any number of
# sections with an "output_pin" prefix). Pins configured here will be
# setup as output pins and one may modify them at run-time using
# "SET_PIN PIN=my_pin VALUE=.1" type extended g-code commands.
[output_pin caselight]
pin: P2.5
pwm: True
value: 1
#cycle_time: 0.010
#hardware_pwm: True

# Position endstop for Temp 100 and PEI SHEET, Energetic
# If it's > 0 and goes up, closer to bed

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 29.407
#*# pid_ki = 1.431
#*# pid_kd = 151.077
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 40.936
#*# pid_ki = 1.882
#*# pid_kd = 222.553
#*#
#*# [stepper_z]
#*# position_endstop = 0.027
#*#
#*# [bed_mesh PLA]
#*# version = 1
#*# points =
#*# 	0.030000, 0.040000, 0.040000, 0.035000, 0.035000, 0.040000, 0.042500
#*# 	0.002500, 0.007500, 0.002500, 0.005000, -0.000000, 0.005000, 0.010000
#*# 	-0.002500, -0.005000, -0.000000, 0.005000, -0.000000, 0.002500, 0.012500
#*# 	0.002500, 0.000000, 0.000000, 0.000000, -0.007500, -0.005000, 0.005000
#*# 	0.000000, -0.002500, -0.007500, 0.005000, -0.012500, -0.010000, 0.002500
#*# 	0.022500, 0.017500, 0.010000, 0.007500, 0.005000, 0.007500, 0.022500
#*# 	0.035000, 0.030000, 0.020000, 0.020000, 0.015000, 0.027500, 0.042500
#*# x_count = 7
#*# y_count = 7
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 15.0
#*# max_x = 240.0
#*# min_y = 35.0
#*# max_y = 224.96
#*#
#*# [bed_mesh ABS]
#*# version = 1
#*# points =
#*# 	0.030000, 0.032500, 0.035000, 0.030000, 0.030000, 0.030000, 0.025000
#*# 	-0.000000, -0.000000, -0.002500, -0.000000, -0.005000, -0.002500, -0.007500
#*# 	-0.005000, -0.007500, -0.005000, -0.000000, -0.005000, -0.000000, -0.002500
#*# 	0.000000, 0.000000, 0.000000, 0.000000, -0.005000, -0.005000, -0.005000
#*# 	0.000000, 0.000000, -0.005000, 0.005000, -0.015000, -0.015000, -0.005000
#*# 	0.020000, 0.015000, 0.005000, 0.005000, 0.000000, 0.002500, 0.010000
#*# 	0.030000, 0.025000, 0.017500, 0.015000, 0.010000, 0.025000, 0.035000
#*# x_count = 7
#*# y_count = 7
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 15.0
#*# max_x = 240.0
#*# min_y = 35.0
#*# max_y = 224.96
#*#
#*# [bed_mesh 110]
#*# version = 1
#*# points =
#*# 	  0.025000, 0.080000, 0.080000, 0.080000, 0.080000, 0.070000, 0.035000
#*# 	  0.030000, 0.030000, 0.030000, 0.030000, 0.030000, 0.030000, 0.030000
#*# 	  0.010000, 0.010000, 0.010000, 0.010000, 0.010000, 0.010000, 0.010000
#*# 	  -0.000000, -0.000000, -0.000000, 0.000000, -0.010000, -0.010000, -0.010000
#*# 	  -0.010000, -0.010000, -0.020000, -0.010000, -0.030000, -0.030000, -0.030000
#*# 	  0.020000, 0.010000, -0.000000, -0.000000, -0.010000, -0.010000, -0.000000
#*# 	  0.040000, 0.030000, 0.020000, 0.020000, 0.010000, 0.020000, 0.040000
#*# tension = 0.2
#*# min_x = 15.0
#*# algo = bicubic
#*# y_count = 7
#*# mesh_y_pps = 2
#*# min_y = 35.0
#*# x_count = 7
#*# max_y = 224.96
#*# mesh_x_pps = 2
#*# max_x = 240.0
